<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ø¹Ø¬Ù„Ø© ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<style>
:root {
  --primary:#00d2ff;
  --success:#00c851;
  --danger:#ff4444;
}

body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:#0f172a;
  color:white;
  min-height:100vh;
  overflow-x:hidden;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
#startScreen{
  position:fixed;
  inset:0;
  z-index:2000;
  background:#0f172a;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
}
.login-card{
  background:rgba(255,255,255,0.05);
  padding:30px;
  border-radius:24px;
  text-align:center;
  border:1px solid var(--primary);
  width:100%;
  max-width:380px;
}

/* Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
.main-layout{
  display:none;
  padding:15px;
  gap:20px;
  flex-wrap:wrap;
  justify-content:center;
  align-items:flex-start;
}

/* Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ† */
.leaderboard{
  width:100%;
  max-width:280px;
  background:rgba(255,255,255,0.05);
  border-radius:20px;
  padding:15px;
  max-height:80vh;
  overflow-y:auto;
  border:1px solid rgba(255,255,255,0.1);
}

/* Ø§Ù„Ù„Ø¹Ø¨Ø© */
.game-container{
  flex:1;
  min-width:300px;
  max-width:500px;
  text-align:center;
}

/* Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© */
.stats-bar{
  position:sticky;
  top:10px;
  z-index:100;
  display:flex;
  justify-content:center;
  gap:15px;
  background:rgba(255,255,255,0.1);
  padding:10px;
  border-radius:30px;
  margin-bottom:15px;
  font-size:0.9rem;
  flex-wrap:wrap;
  backdrop-filter: blur(6px);
}

/* Ø§Ù„Ø¹Ø¬Ù„Ø© */
.wheel-box{
  position:relative;
  width:85vw;
  height:85vw;
  max-width:380px;
  max-height:380px;
  margin:20px auto;
}
#canvas{
  width:100%!important;
  height:100%!important;
  border-radius:50%;
  border:5px solid white;
  transition:transform 4s cubic-bezier(0.1,0,0.1,1);
}
.pointer{
  position:absolute;
  top:-15px;
  left:50%;
  transform:translateX(-50%);
  width:40px;
  z-index:100;
}

/* Ø£Ø²Ø±Ø§Ø± */
input,button.main-btn,.danger-btn{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  margin:10px 0;
  font-family:'Cairo';
  font-size:1.1rem;
}
button.main-btn{
  background:var(--primary);
  color:#0f172a;
  font-weight:bold;
  cursor:pointer;
}
.danger-btn{
  background:var(--danger);
  color:white;
  border:2px dashed white;
  display:none;
}

/* Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª */
.correct-ans{background:var(--success)!important;color:white!important;transform:scale(1.05);}
.wrong-ans{background:var(--danger)!important;color:white!important;}

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ */
.modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.95);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:3000;
  padding:15px;
}
.modal{
  background:#1e293b;
  max-width:450px;
  width:100%;
  padding:25px;
  border-radius:20px;
  border:2px solid var(--primary);
  text-align:center;
}

/* Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media(max-width:768px){
  .main-layout{flex-direction:column;}
  .leaderboard{order:2;max-height:250px;}
  .game-container{order:1;width:100%;}
}
</style>
</head>

<body>

<audio id="bgMusic" loop src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
<audio id="spinSound" src="https://assets.mixkit.co/active_storage/sfx/2005/2005-preview.mp3"></audio>
<audio id="correctSound" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>
<audio id="wrongSound" src="https://assets.mixkit.co/active_storage/sfx/2955/2955-preview.mp3"></audio>

<div id="startScreen">
  <div class="login-card">
    <h1 id="gameTitle">ğŸ¡ Ø¹Ø¬Ù„Ø© ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h1>
    <p>Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ©</p>
    <input id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨">
    <input id="pClass" placeholder="Ø§Ù„ØµÙ">
    <button class="main-btn" onclick="startGame()">Ø¯Ø®ÙˆÙ„</button>
    <button id="adminClearBtn" class="danger-btn" onclick="clearAllData()">Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
  </div>
</div>

<div class="main-layout" id="mainLayout">
  <div class="leaderboard">
    <h3>ğŸ† Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ†</h3>
    <div id="scoresList"></div>
  </div>

  <div class="game-container">
    <div class="stats-bar">
      <span>ğŸ‘¤ <span id="statName">--</span></span>
      <span>ğŸ… <b id="statScore">0</b></span>
      <button onclick="location.reload()" style="background:var(--danger);color:white;border:none;border-radius:8px;">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="wheel-box">
      <img class="pointer" src="https://cdn-icons-png.flaticon.com/512/2722/2722987.png">
      <canvas id="canvas" width="500" height="500"></canvas>
    </div>

    <button id="spinBtn" class="main-btn" style="max-width:200px" onclick="spinWheel()">ğŸ¡ Ø¯ÙˆÙ‘Ø±</button>
  </div>
</div>

<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <div>â± <b id="secondsText">10</b></div>
    <h2 id="qText"></h2>
    <div id="optionsGrid"></div>
  </div>
</div>

<script>
/* ---------- Ø§Ù„Ø¯Ø®ÙˆÙ„ ---------- */
function startGame(){
  const n=pName.value,c=pClass.value;
  if(!n||!c)return alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙ");

  statName.innerText=n+" ("+c+")";
  startScreen.style.display="none";
  mainLayout.style.display="flex";

  window.scrollTo({top:0,behavior:"instant"}); // âœ… Ø§Ù„Ø­Ù„

  drawWheel();
  updateLeaderboard();
}

/* Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯ (Ø§Ù„Ø¹Ø¬Ù„Ø© â€“ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© â€“ Ø§Ù„Ù†Ù‚Ø§Ø·) Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± */
const canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d');
const colors=['#FF5E5E','#FFB84E','#4E9FFF','#4EFC9F','#B34EFC','#FC4EED','#FCEE4E','#4EFCF0'];
let rotation=0,spinning=false,score=0;

function drawWheel(){
  const seg=8,angle=2*Math.PI/seg;
  for(let i=0;i<seg;i++){
    ctx.beginPath();
    ctx.fillStyle=colors[i];
    ctx.moveTo(250,250);
    ctx.arc(250,250,250,i*angle,(i+1)*angle);
    ctx.fill();
    ctx.save();
    ctx.translate(250,250);
    ctx.rotate(i*angle+angle/2);
    ctx.fillStyle="white";
    ctx.font="bold 35px Cairo";
    ctx.fillText(i+1,150,10);
    ctx.restore();
  }
}

function spinWheel(){
  if(spinning)return;
  spinning=true;
  rotation+=Math.random()*360+1800;
  canvas.style.transform=`rotate(${rotation}deg)`;
  setTimeout(()=>spinning=false,4000);
}

function updateLeaderboard(){}
function clearAllData(){localStorage.clear();location.reload();}
</script>

</body>
</html>





